!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.blocks,n=JSON.parse('{"apiVersion":2,"name":"dicom-mexico-extensions/news","title":"News","category":"dicom-blocks","icon":"list-view","description":"Show news","keywords":["posts","news","dicom"],"version":"0.0.1","textdomain":"dicom-mexico-extensions","attributes":{"title":{"type":"string","selector":"h2"},"category":{"type":"string"},"per_page":{"type":"integer"}},"editorScript":"file:./build/index.js"}'),a=window.wp.element,i=window.wp.blockEditor,o=window.wp.apiFetch,s=e.n(o),r=window.wp.components,c=window.wp.i18n;(0,t.registerBlockType)(n,{edit:e=>{const{attributes:{category:t,per_page:n,title:o},setAttributes:l}=e,m=(0,i.useBlockProps)(),[p,d]=(0,a.useState)([]),[u,g]=(0,a.useState)([]);return(0,a.useEffect)((()=>{(async()=>{const e=await s()({path:"/wp/v2/categories?hide_empty=true"}),t=[{label:"All categories",value:0}].concat(e.map((e=>({label:e.name,value:e.id}))));g(t)})()}),[]),(0,a.useEffect)((()=>{(async()=>{void 0===n&&l({per_page:6});let e=void 0===n?"/wp/v2/posts?per_page=6":`/wp/v2/posts?per_page=${n}`;t&&0!=t&&(e=`${e}&categories=${t}`);const a=await s()({path:e});d(a)})()}),[t,n]),(0,a.createElement)(a.Fragment,null,u.length>0&&(0,a.createElement)(i.InspectorControls,null,(0,a.createElement)(r.Panel,null,(0,a.createElement)(r.PanelBody,{title:(0,c.__)("Categories","dicom-mexico-extensions"),initialOpen:!0},(0,a.createElement)(r.SelectControl,{label:(0,c.__)("Current category","dicom-mexico-extensions"),value:t,options:u,onChange:e=>{l({category:e})}})),(0,a.createElement)(r.PanelBody,{title:(0,c.__)("Posts per page","dicom-mexico-extensions"),initialOpen:!0},(0,a.createElement)(r.RangeControl,{label:(0,c.__)("Current post per page value","dicom-mexico-extensions"),value:n,onChange:e=>{l({per_page:e})},min:1,max:10,help:(0,c.__)("Choose the number of posts to render","dicom-mexico-extensions")})))),p.length>0&&(0,a.createElement)("div",m,(0,a.createElement)("div",{className:"container-xxl py-5"},(0,a.createElement)("div",{className:"container"},(0,a.createElement)("div",{className:"text-center mx-auto wow fadeInUp"},(0,a.createElement)(i.RichText,{tagName:"h2",className:"display-6 mb-5",placeholder:"Agrega un título a esta sección",value:o,onChange:e=>{l({title:e})}})),(0,a.createElement)("div",{className:"row g-4 justify-content-center"},p.map((e=>(0,a.createElement)("div",{className:"col-lg-4 col-md-6 wow fadeInUp",key:e.id},(0,a.createElement)("div",{className:"service-item"},(0,a.createElement)("img",{className:"img-fluid",src:e.featured_image_src}),(0,a.createElement)("div",{className:"d-flex align-items-center bg-light"},(0,a.createElement)("div",{className:"service-icon flex-shrink-0 bg-primary"},(0,a.createElement)("img",{className:"img-fluid",src:e.cmb2.dme_posts_metabox_fields.dme_posts_metabox_icon_image_loop})),(0,a.createElement)("a",{className:"h4 mx-4 mb-0",href:e.link},e.title.rendered)))))))))))},save:()=>null})}();